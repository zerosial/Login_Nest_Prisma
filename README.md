### **í”„ë¡œì íŠ¸ ëª…**: íŒŒì¸ ë§ˆì¼“ (ë‹¹ê·¼ë§ˆì¼“ í´ë¡ )

![chrome_61HkvTxx4T](https://github.com/zerosial/Pinemarket_React_Frontend/assets/97251710/140f5219-d450-4026-800a-59db3acde328)


[WEB](https://pinemarket.cielui.com/web) : https://pinemarket.cielui.com/web

[API_END_POINT](https://pinemarket.cielui.com) : https://pinemarket.cielui.com

[SWAGGER](https://pinemarket.cielui.com/docs) : https://pinemarket.cielui.com/docs


### 1. ì„œë¡ 

**íŒ€ ì†Œê°œ ë° í”„ë¡œì íŠ¸ ê°œìš”**

- íŒ€ì›: ìœ ì§„(í”„ë¡ íŠ¸ì—”ë“œ), ë‚™ì¤€(í”„ë¡ íŠ¸ì—”ë“œ), ìŠ¹í›ˆ(í’€ìŠ¤íƒ)
- í”„ë¡œì íŠ¸ ëª©ì :  ê¸°ìˆ  ìŠµë“ ë° í–¥ìƒì„ ìœ„í•œ ë¯¸ë‹ˆ í”„ë¡œì íŠ¸
- ë™ê¸°: ë‹¹ê·¼ë§ˆì¼“ì˜ ìœ ì € ì¸í„°í˜ì´ìŠ¤ì™€ ê¸°ëŠ¥ì„ ëª¨ë¸ë¡œ ì‚¼ì•„, í˜„ëŒ€ì ì¸ ê¸°ìˆ  ìŠ¤íƒì„ í™œìš©í•˜ì—¬ ìœ ì‚¬í•œ ì„œë¹„ìŠ¤ë¥¼ ì œì‘

**í”„ë¡œì íŠ¸ ì„ ì • ë°°ê²½**

- UIì˜ ë‹¨ìˆœí•¨ê³¼ ë”ë¶ˆì–´ êµ¬í˜„ ëª©í‘œì˜€ë˜ ê¸°ëŠ¥ì´ ë‹¤ìˆ˜ ì¡´ì¬
- ìµœì‹  í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ ì„ í™œìš©í•œ ì‹¤ì œ í”„ë¡œì íŠ¸ ê²½í—˜ ì¶•ì 

### 2. í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° í˜‘ì—… ë°©ë²•

**ì½”ë“œ ë¦¬ë·° ë° íšŒì˜ ìŠ¤ì¼€ì¤„**

- ì½”ë“œ ë¦¬ë·°: ë§¤ì£¼ ì›”, ìˆ˜, ê¸ˆ ì˜¤í›„ 3ì‹œ PR ë¦¬ë·° ë° ë¨¸ì§€
- ì£¼ê°„ íšŒì˜: ë§¤ì£¼ í•œ ë²ˆ, ì‹œê°„ ë¯¸ì • (ì£¼ë¡œ ìˆ˜ìš”ì¼ì— ì§„í–‰)

**Branch ë° Commit ê·œì¹™**

- Branch ëª…ëª… ê·œì¹™: **`feature/[ê¸°ëŠ¥ëª…]`**
- Commit ë©”ì‹œì§€ ê·œì¹™: **`feat: [ê¸°ëŠ¥ ì„¤ëª…]`** (í•œê¸€ ì‚¬ìš© ê°€ëŠ¥)

### 3. ê¸°ìˆ  ìŠ¤íƒ ë° ë„êµ¬

**ê¸°ìˆ  ìŠ¤íƒ ì†Œê°œ**
- ë°±ì—”ë“œ
    
    # ì½”ì–´
    
    ### Nest.js
    
    - **ì¥ì **: Angularì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì§„ Node.js í”„ë ˆì„ì›Œí¬ë¡œ, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì§€ì›, íš¨ìœ¨ì ì¸ ì½”ë“œ ì¡°ì§, ëª¨ë“ˆí™” ì´‰ì§„.
    - **ì ìš©ë²•**: ëª¨ë“ˆ, ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ RESTful APIë¥¼ êµ¬ì„±í•˜ê³ , ì˜ì¡´ì„± ì£¼ì…ì„ í™œìš©í•˜ì—¬ ìœ ì—°ì„± ë° í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì œê³µ.
    
    ### Prisma
    
    - **ì¥ì **: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì§€ì› ORM, ê°„í¸í•œ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° ì¿¼ë¦¬ êµ¬ì„±.
    - **ì ìš©ë²•**: **`schema.prisma`** íŒŒì¼ì—ì„œ ë°ì´í„° ëª¨ë¸ì„ ì •ì˜í•˜ê³ , Prisma í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ìƒí˜¸ ì‘ìš©ì„ ì‰½ê²Œ í•¨.
    
    # DB
    
    ### PostgreSQL
    
    - **ì¥ì **: ê°•ë ¥í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ê°ì²´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œ, ë³µì¡í•œ ì¿¼ë¦¬, ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ì— ì í•©.
    - **ì ìš©ë²•**: ë°ì´í„° ì €ì¥, ê²€ìƒ‰, ê´€ë¦¬ë¥¼ ìœ„í•´ Prismaì™€ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ë¬´ê²°ì„± ë° ë³´ì•ˆ ìœ ì§€.
    
    # ë¬¸ì„œ
    
    ### Swagger
    
    - **ì¥ì **: API ì„¤ê³„, ë¹Œë“œ, ë¬¸ì„œí™”, í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë ˆì„ì›Œí¬. ì‚¬ìš©ì ì¹œí™”ì ì¸ ë¬¸ì„œ ìë™ ìƒì„±.
    - **ì ìš©ë²•**: Nest.js í”„ë¡œì íŠ¸ì— Swagger ëª¨ë“ˆì„ í†µí•©í•˜ì—¬ API ì—”ë“œí¬ì¸íŠ¸ì— ëŒ€í•œ ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê³  ê´€ë¦¬.
    
    # ë°°í¬
    
    ### Docker
    
    - **ì¥ì **: ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì»¨í…Œì´ë„ˆí™”í•˜ì—¬ í™˜ê²½ì— êµ¬ì• ë°›ì§€ ì•ŠëŠ” ì¼ê´€ëœ ê°œë°œ, ë°°í¬, ì‹¤í–‰ì„ ê°€ëŠ¥í•˜ê²Œ í•¨.
    - **ì ìš©ë²•**: ê°œë°œ í™˜ê²½ì„ Docker ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±í•˜ê³ , Docker Composeë¥¼ ì‚¬ìš©í•˜ì—¬ ë©€í‹° ì»¨í…Œì´ë„ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê´€ë¦¬.

### 4. í”„ë¡œì íŠ¸ ì£¼ìš” ê¸°ëŠ¥ ë° ê°œë°œ ê³¼ì • (ê° ê°œë°œì)

**ìœ ì§„**

- ë‹´ë‹¹ ê¸°ëŠ¥: ë©”ì¸ í˜ì´ì§€ì™€ ê²€ìƒ‰ ê¸°ëŠ¥
- ê°œë°œ ê³¼ì •: ì‚¬ìš©ì ê²½í—˜ ì¤‘ì‹¬ì˜ ë””ìì¸ ë° ìºì‹± ì „ëµ êµ¬í˜„, ì¬ì‚¬ìš©ìˆëŠ” ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

**ìŠ¹í›ˆ**

- ë‹´ë‹¹ ê¸°ëŠ¥: ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ, í—¤ë” ë° í‘¸í„°, í”„ë¡œí•„ í˜ì´ì§€, ë°±ì—”ë“œ ì „ë°˜
- ê°œë°œ ê³¼ì •: ë³´ì•ˆ ê°•í™” ë° ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì¼ê´€ì„± ìœ ì§€

**ë‚™ì¤€**

- ë‹´ë‹¹ ê¸°ëŠ¥: ëª¨ë‹¬, ë¼ìš°íŠ¸ ì„¤ì •, ìƒì„¸ í˜ì´ì§€
- ê°œë°œ ê³¼ì •: ë†’ì€ í¼í¬ë¨¼ìŠ¤ ìœ ì§€ë¥¼ ìœ„í•œ ìµœì í™” ì „ëµ êµ¬í˜„


## Features

- GraphQLë¡œ ê¸°ë³¸ ì„¤ê³„ëœ ì½”ë“œ
- Rest API ì¶”ê°€ (Controller.ts)
- ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§, ë§ˆì´ê·¸ë ˆì´ì…˜ ë° íƒ€ì… ì•ˆì „í•œ ì ‘ê·¼ì„ ìœ„í•œ [Prisma](https://www.prisma.io/)  (Postgres, MySQL & MongoDB ì§€ì›)
- ğŸ” JWT Auth w/ [passport-jwt](https://github.com/mikenicholson/passport-jwt)
- REST API Swagger (ì „ì²´ ìƒˆë¡œ ì¶”ê°€) w/ [Swagger](https://swagger.io/)
- í•„ìš”ì— ë”°ë¥¸ ì½”ë“œ ë³€ê²½ ë° ìˆ˜ì •

## Prisma ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

Nest ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í•œ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ì„¸ìš”.

```bash
# npm
npm install
# yarn
yarn install
```

### 2. Dockerë¥¼ ì´ìš©í•œ PostgreSQL
ì„ íƒì  

Dockerë¥¼ ì´ìš©í•˜ì—¬ ê°œë°œ í™˜ê²½ìš© PostgreSQLì„ ì„¤ì •í•©ë‹ˆë‹¤. [.env.example](./.env.example)ì„ ë³µì‚¬í•˜ì—¬ `.env`ë¡œ ì´ë¦„ì„ ë°”ê¿‰ë‹ˆë‹¤ - `cp .env.example .env` - ì´ëŠ” `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`ì™€ ê°™ì€ PostgreSQLì— í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ë³€ìˆ˜ë¥¼ ì›í•˜ëŠ” ëŒ€ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”.

PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.

```bash
docker-compose -f docker-compose.db.yml up -d
# ë˜ëŠ”
npm run docker:db
```

### 3. Prisma Migrate

[Prisma Migrate](https://github.com/prisma/prisma2/tree/master/docs/prisma-migrate)ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ìŠ¤í‚¤ë§ˆì™€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. Prisma ë°ì´í„° ì†ŒìŠ¤ëŠ” PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ê¸° ìœ„í•œ í™˜ê²½ ë³€ìˆ˜ `DATABASE_URL`ì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤. PrismaëŠ” ë£¨íŠ¸ì˜ [.env](./.env) íŒŒì¼ì—ì„œ `DATABASE_URL`ì„ ì½ìŠµë‹ˆë‹¤.

ê°œë°œ í™˜ê²½ì—ì„œ Prisma Migrateë¥¼ ì‚¬ìš©í•˜ì—¬

1. `migration.sql` íŒŒì¼ ìƒì„±
2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì—…ë°ì´íŠ¸
3. Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±

```bash
npx prisma migrate dev
# ë˜ëŠ”
npm run migrate:dev
```

`migration.sql` íŒŒì¼ì„ ì‚¬ìš©ì ì •ì˜í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”. ì‚¬ìš©ì ì •ì˜ í›„ `npx prisma migrate dev`ë¥¼ ì‹¤í–‰í•˜ì—¬ ì ìš©í•©ë‹ˆë‹¤.

```bash
npx prisma migrate dev --create-only
# ë˜ëŠ”
npm run migrate:dev:create
```

ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‚¬í•­ì— ë§Œì¡±í•˜ë©´ [í”„ë¡œë•ì…˜ ë°ì´í„°ë² ì´ìŠ¤](https://www.prisma.io/blog/prisma-migrate-preview-b5eno5g08d0b#applying-migrations-in-production-and-other-environments)ì— ë³€ê²½ ì‚¬í•­ì„ ë°°í¬í•˜ë ¤ë©´ `prisma migrate deploy`ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì ìš©í•©ë‹ˆë‹¤. CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° í”„ë¡¬í”„íŠ¸ ì—†ì´ ì‘ë™í•©ë‹ˆë‹¤.

```bash
npx prisma migrate deploy
# ë˜ëŠ”
npm run migrate:deploy
```

### 4. Prisma: Prisma Client JS

[Prisma Client JS](https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-client/api)ëŠ” ë°ì´í„° ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±ë˜ëŠ” íƒ€ì…-ì•ˆì „í•œ ë°ì´í„°ë² ì´ìŠ¤ í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤.

Prisma Client JSë¥¼ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒì„ ì‹¤í–‰í•˜ì„¸ìš”.

> **ì°¸ê³ **: [schema.prisma](prisma/schema.prisma)ë¥¼ ì—…ë°ì´íŠ¸í•  ë•Œë§ˆë‹¤ Prisma Client JSë¥¼ ì¬ìƒì„±í•˜ì„¸ìš”.

```bash
npx prisma generate
# ë˜ëŠ”
npm run prisma:generate
```

### 5. ì´ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ë°ì´í„° ì”¨ë”©

ì´ ëª…ë ¹ì–´ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
npm run seed
```

### 6. NestJS ì„œë²„ ì‹œì‘

ê°œë°œ ëª¨ë“œì—ì„œ Nest ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
npm run start

# ê°ì‹œ ëª¨ë“œ
npm run start:dev
```

í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œ Nest ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
npm run start:prod
```

**[â¬† ë§¨ ìœ„ë¡œ](#overview)**


## GraphQL Playground

NestJS ì„œë²„ë¥¼ ìœ„í•œ GraphQL PlaygroundëŠ” ì—¬ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [GraphQL Playground](http://localhost:3000/graphql)


## Rest Api Swagger

[RESTful API](http://localhost:3000/api) ë¬¸ì„œëŠ” Swaggerë¡œ ì œê³µë©ë‹ˆë‹¤.

